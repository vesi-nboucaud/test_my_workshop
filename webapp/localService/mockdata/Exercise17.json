{
    "objective": "<p><strong>Objective:</strong></p><p>Learn how to <strong>handle focus</strong>.</p>",
    "task": "<p><strong>Task:</strong></p><p>You are provided with a function that creates a custom popover.</p><p>Modify the code to set the initial focus to the \"Close\" button when the popover opens, ensuring that users can easily close the dialog using keyboard navigation.</p>",
    "expectedResult": "<p><strong>Expected Result:</strong></p>",
    "instruction": "<p><strong>Instruction:</strong></p><p>In the file <strong>/webapp/exercises/Exercise17.js</strong> set the <strong>initial focus</strong> to the close <strong>Button</strong> control.</p>",
    "howToTest": "<p><strong>How to test:</strong></p><ul><li>Use the Keyboard to verify the Focus Handling</li></ul>",
    "helpFile": "<p>file <strong>/webapp/exercises/Exercise17.js</strong></p>",
    "helpCode": "<code>if (!this._oExercise17Popover) {<br/>&nbsp;&nbsp;sap.ui.require(['sap/m/Popover', 'sap/m/VBox', 'sap/m/Text', 'sap/m/Link', 'sap/m/Toolbar', 'sap/m/ToolbarSpacer', 'sap/m/Button'], (Popover, VBox, Text, Link, Toolbar, ToolbarSpacer, Button) =&gt; {<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;this._oExercise17Popover = new Popover({<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(...)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;}).addStyleClass(\"sapUiResponsivePadding--content sapUiResponsivePadding--header\");<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong>//Take a look at setInitialFocus method for <a href=\"https://sapui5.hana.ondemand.com/1.108.26/#/api/sap.m.Popover\"/>sap.m.Popover</a> control</strong><br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong>//Popover control =&gt; this._oExercise17Popover</strong><br/>&nbsp;&nbsp;&nbsp;&nbsp;<strong>//Close Button control ID =&gt; Fragment.createId(sFragmentId, \"idExercise17PopoverCloseButton\")</strong><br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;oObjectPageSubSection.addDependent(this._oExercise17Popover);<br/>&nbsp;&nbsp;&nbsp;&nbsp;this._oExercise17Popover.openBy(oSource);<br/>&nbsp;&nbsp;});<br/><br/>} else {<br/>&nbsp;&nbsp;<strong>//Take a look at setInitialFocus method for <a href=\"https://sapui5.hana.ondemand.com/1.108.26/#/api/sap.m.Popover\"/>sap.m.Popover</a> control</strong><br/>&nbsp;&nbsp;<strong>//Popover control =&gt; this._oExercise17Popover</strong><br/>&nbsp;&nbsp;<strong>//Close Button control ID =&gt; Fragment.createId(sFragmentId, \"idExercise17PopoverCloseButton\")</strong><br/>&nbsp;&nbsp;this._oExercise17Popover.openBy(oSource);<br/>}</code>",
    "parentFragmentId": "idKeyboardNavigationFragment",
    "fragmentId": "idSetUpFocusHandlingFragment",
    "answerFile": "Exercise17.js",
    "answerPass": "c2hyaW1w",
    "answerCode": "c2FwLnVpLmRlZmluZShbCiAgICAic2FwL3VpL2NvcmUvRnJhZ21lbnQiCl0sCiAgICBmdW5jdGlvbiAoRnJhZ21lbnQpIHsKICAgICAgICAidXNlIHN0cmljdCI7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG9uT3BlblBvcG92ZXJCdXR0b25QcmVzczogZnVuY3Rpb24gKG9FdmVudCkgewogICAgICAgICAgICAgICAgbGV0IHNQYXJlbnRGcmFnbWVudElkID0gdGhpcy5nZXRWaWV3KCkuY3JlYXRlSWQoImlkS2V5Ym9hcmROYXZpZ2F0aW9uRnJhZ21lbnQiKTsKICAgICAgICAgICAgICAgIGxldCBzRnJhZ21lbnRJZCA9IHNQYXJlbnRGcmFnbWVudElkID8gRnJhZ21lbnQuY3JlYXRlSWQoc1BhcmVudEZyYWdtZW50SWQsICJpZFNldFVwRm9jdXNIYW5kbGluZ0ZyYWdtZW50IikgOiBudWxsOwogICAgICAgICAgICAgICAgbGV0IG9PYmplY3RQYWdlU3ViU2VjdGlvbiA9IHNGcmFnbWVudElkID8gRnJhZ21lbnQuYnlJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN09iamVjdFBhZ2VTdWJTZWN0aW9uIikgOiBudWxsOwogICAgICAgICAgICAgICAgbGV0IG9Tb3VyY2UgPSBvRXZlbnQuZ2V0U291cmNlKCk7CgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9vRXhlcmNpc2UxN1BvcG92ZXIpIHsKICAgICAgICAgICAgICAgICAgICBzYXAudWkucmVxdWlyZShbJ3NhcC9tL1BvcG92ZXInLCAnc2FwL20vVkJveCcsICdzYXAvbS9UZXh0JywgJ3NhcC9tL0xpbmsnLCAnc2FwL20vVG9vbGJhcicsICdzYXAvbS9Ub29sYmFyU3BhY2VyJywgJ3NhcC9tL0J1dHRvbiddLCAoUG9wb3ZlciwgVkJveCwgVGV4dCwgTGluaywgVG9vbGJhciwgVG9vbGJhclNwYWNlciwgQnV0dG9uKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29FeGVyY2lzZTE3UG9wb3ZlciA9IG5ldyBQb3BvdmVyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBGcmFnbWVudC5jcmVhdGVJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN1BvcG92ZXIiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLl9nZXRUZXh0KCJFeGVyY2lzZTE3LmZyYWdtZW50LnBvcG92ZXIudGl0bGUiLCBudWxsKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVkJveCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBGcmFnbWVudC5jcmVhdGVJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN1BvcG92ZXJDb250ZW50VkJveCIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRleHQoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBGcmFnbWVudC5jcmVhdGVJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN1BvcG92ZXJDb250ZW50TGluZTAxVGV4dCIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuX2dldFRleHQoIkV4ZXJjaXNlMTcuZnJhZ21lbnQucG9wb3Zlci5jb250ZW50LnRleHQubGluZTAxIiwgbnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFkZFN0eWxlQ2xhc3MoInNhcFVpU21hbGxNYXJnaW5Ub3BCb3R0b20iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUZXh0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogRnJhZ21lbnQuY3JlYXRlSWQoc0ZyYWdtZW50SWQsICJpZEV4ZXJjaXNlMTdQb3BvdmVyQ29udGVudExpbmUwMlRleHQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLl9nZXRUZXh0KCJFeGVyY2lzZTE3LmZyYWdtZW50LnBvcG92ZXIuY29udGVudC50ZXh0LmxpbmUwMiIsIG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5hZGRTdHlsZUNsYXNzKCJzYXBVaVNtYWxsTWFyZ2luQm90dG9tIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTGluayh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IEZyYWdtZW50LmNyZWF0ZUlkKHNGcmFnbWVudElkLCAiaWRFeGVyY2lzZTE3UG9wb3ZlckNvbnRlbnRMaW5rIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5fZ2V0VGV4dCgiRXhlcmNpc2UxNy5mcmFnbWVudC5wb3BvdmVyLmNvbnRlbnQubGluayIsIG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI6IG5ldyBUb29sYmFyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUb29sYmFyU3BhY2VyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBGcmFnbWVudC5jcmVhdGVJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN1BvcG92ZXJUb29sYmFyU3BhY2VyIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCdXR0b24oewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IEZyYWdtZW50LmNyZWF0ZUlkKHNGcmFnbWVudElkLCAiaWRFeGVyY2lzZTE3UG9wb3ZlckNsb3NlQnV0dG9uIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLl9nZXRUZXh0KCJFeGVyY2lzZTE3LmZyYWdtZW50LnBvcG92ZXIuYnV0dG9uLmNsb3NlIiwgbnVsbCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29FeGVyY2lzZTE3UG9wb3Zlci5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50V2lkdGg6ICIzMCUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFkZFN0eWxlQ2xhc3MoInNhcFVpUmVzcG9uc2l2ZVBhZGRpbmctLWNvbnRlbnQgc2FwVWlSZXNwb25zaXZlUGFkZGluZy0taGVhZGVyIik7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vRXhlcmNpc2UxN1BvcG92ZXIuc2V0SW5pdGlhbEZvY3VzKEZyYWdtZW50LmNyZWF0ZUlkKHNGcmFnbWVudElkLCAiaWRFeGVyY2lzZTE3UG9wb3ZlckNsb3NlQnV0dG9uIikpOwoKICAgICAgICAgICAgICAgICAgICAgICAgb09iamVjdFBhZ2VTdWJTZWN0aW9uLmFkZERlcGVuZGVudCh0aGlzLl9vRXhlcmNpc2UxN1BvcG92ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vRXhlcmNpc2UxN1BvcG92ZXIub3BlbkJ5KG9Tb3VyY2UpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb0V4ZXJjaXNlMTdQb3BvdmVyLnNldEluaXRpYWxGb2N1cyhGcmFnbWVudC5jcmVhdGVJZChzRnJhZ21lbnRJZCwgImlkRXhlcmNpc2UxN1BvcG92ZXJDbG9zZUJ1dHRvbiIpKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9vRXhlcmNpc2UxN1BvcG92ZXIub3BlbkJ5KG9Tb3VyY2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgIH07CiAgICB9KTs="
}